tests: true
benchmarks: true

packages:
  ./hnix-store-core/hnix-store-core.cabal
  ./hnix-store-db/hnix-store-db.cabal
  ./hnix-store-json/hnix-store-json.cabal
  ./hnix-store-nar/hnix-store-nar.cabal
  ./hnix-store-readonly/hnix-store-readonly.cabal
  ./hnix-store-remote/hnix-store-remote.cabal
  ./hnix-store-tests/hnix-store-tests.cabal

source-repository-package
  type: git
  location: https://github.com/sorki/Haskell-Nix-Derivation-Library
  tag: cbc257264ebdcb1a2170b7b83aa131356e00ecbf

-- till https://github.com/obsidiansystems/dependent-sum/pull/80
allow-newer:
  dependent-sum:some

package hnix-store-db
  flags: +build-readme +build-bench

package hnix-store-nar
  flags: +bounded_memory

package hnix-store-remote
  flags: +build-derivation +build-readme +io-testsuite
